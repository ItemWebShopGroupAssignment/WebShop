<h1>This is an admin page. Customers please return to the store!</h1>
<div class="flex_row">
	<div>
		<h3>Our games</h3>

		<input type="search" placeholder="search items" data-ng-model="search" />
		<input type="button" value="{{addOrEdit}}" data-ng-click="showAddForm()" />

		<table>
			<tr>
				<td>Art Number</td>
				<td>Name</td>
				<td>Price</td>
				<td>Balance</td>
			</tr>
			<tr data-ng-repeat="game in items | filter:search" class="table_row">
				<td data-ng-click="viewDescription(game.artNr)">
						{{game.artNr}}</td>
				<td data-ng-click="viewDescription(game.artNr)">
						{{game.itemName}}</td>
				<td data-ng-click="viewDescription(game.artNr)">
						{{game.price}}</td>
				<td data-ng-click="viewDescription(game.artNr)">
						{{game.stockBalance}}</td>
				<td>
				<input type="number" data-ng-model="count" />
				</td>
  				<td><input type="button"
					data-ng-click="addToInventory(game.artNr, count)" value="Add to inventory" /></td>
				<td><input type="button"
					data-ng-click="removeFromInventory(game.artNr, count)" value="Remove from inventory" /></td>
			</tr>
		</table>
	</div>
	<div data-ng-show="!show">
		<form action="EditItem" method="POST" enctype="multipart/form-data">
			<br>
			<label>Article number: </label><input type="text" name="newArtNr" value="{{selectedItem.artNr}}" />
			<br>
			<label>Game: </label><input type="text" name="itemName" value="{{selectedItem.itemName}}" />
			<br> 
			<label>Image: </label><input type="file" name="image" /> 
			<br> 
			<label>Description: </label><textarea name="description" cols="40" rows="5">{{selectedItem.description}}</textarea> 
			<br>
			<br>
			<label>Price: </label><input type="number" name="price" value="{{selectedItem.price}}" /> SEK
			<br>
			<label>Format: </label><input type="text" name="storageFormat" value="{{selectedItem.storageFormat}}" />
			<br>
			<label>Category: </label><select name="category" >
				<option selected>{{selectedItem.category}}</option>
  				<option data-ng-repeat="c in categories" data-ng-show="selectedItem.category != c.categoryName">
  				{{c.categoryName}}</option>
			</select>
			<br>
			<input type="hidden" name="currentArtNr" value="{{selectedItem.artNr}}" />
			<input type="hidden" name="stockBalance" value="{{selectedItem.stockBalance}}" />
			<input type="submit" value="Edit game" />
		</form>
		<input type="button" value="Delete game" data-ng-click="deleteFromInventory(selectedItem.artNr)"/>
	</div>
	<div data-ng-show="show">
		<form action="AddToInventory" method="POST" enctype="multipart/form-data">
			<br>
			<label>Article number: </label><input type="text" name="artNr" placeholder="Article number"/>
			<br>
			<label>Game: </label><input type="text" name="itemName" placeholder="Name of the game" />
			<br> 
			<label>Image: </label><input type="file" name="image" /> 
			<br> 
			<label>Description: </label><textarea name="description" cols="40" rows="5">{{selectedItem.description}}</textarea> 
			<br>
			<br>
			<label>Price: </label><input type="number" name="price" /> SEK
			<br>
			<label>Format: </label><input type="text" name="storageFormat" placeholder="Format of the game" />
			<br>
			<label>Category: </label><select name="category" >
				<option data-ng-repeat="c in categories" >{{c.categoryName}}</option>
			</select>
			<br>
			<label>Copies: </label><input type="number" name="stockBalance" placeholder="Number of copies" />
			<br>
			<input type="submit" value="Add game" />
		</form>
	</div>
</div>